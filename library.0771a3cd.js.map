{"mappings":"gfAAA,I,EAAAA,EAAAC,EAAA,S,uCAKMC,EAASC,SAASC,cAAc,WAChCC,EAAaF,SAASC,cAAc,gBACpCE,EAAWH,SAASC,cAAc,cAClCG,EAAOJ,SAASC,cAAc,SAI7BI,G,GAAgB,EAAAR,EAAAS,UAAA,SAAOC,G,IAGtBC,EACGC,EAICC,E,iEAPPX,EAAOY,MAAMC,QAAU,Q,iBAGN,O,sBADdJ,EAAU,sCAAyDK,OAAnBN,EAAQ,aAAmBM,OAXnE,mCAWmE,mBAC7D,C,EAAMC,EAAAR,QAAMS,IAAIP,I,OAGjC,OAHMC,EAAWO,EAAAC,OACjBlB,EAAOY,MAAMC,QAAU,OAEvB,C,EAAOH,EAASS,M,cACTR,EAAAM,EAAAC,OACPlB,EAAOY,MAAMC,QAAU,OACvBO,QAAQT,MAAMA,G,0BAEnB,I,SAZ8BH,G,iCAkB1Ba,EAAgB,G,SAELC,I,OAAAA,GAAf,EAAAxB,EAAAS,UAAA,W,IAaYgB,EAGKC,EACDC,EAGAC,E,wEAnBZC,YAAc,EACdvB,EAASwB,gBAAgB,YACzBvB,EAAKwB,UAAY,GAIgC,OAA7CC,aAAaC,QAAQ,oBAArB,C,MACAC,EAAAC,OAAOC,KAAK,6C,cAGZb,EAAgBc,KAAKC,MAAMN,aAAaC,QAAQ,qBAChDX,QAAQiB,IAAIhB,GACRE,EAAA,GAGKC,EAAI,E,wBAAGA,EAAIH,EAAciB,QAC1Bb,EAAiBJ,EAAcG,GAGX,C,EAAMlB,EAAcmB,KAJT,C,YAI/BC,EAAoBT,EAAAC,OAExBK,EAAkBgB,KAAKb,G,wBANeF,I,aAW1CgB,EAAajB,G,wBAGjBpB,EAAWsC,aAAa,YAAY,G,OAGxC,KAjCeC,MAAAC,KAAAC,U,CAqCfzC,EAAW0C,iBAAiB,SAAS,SAAAC,GACjCA,EAAMC,iB,WAtCKzB,EAAAoB,MAAAC,KAAAC,U,CAuCXI,EACJ,IAKA,IAAIC,EAAe,G,SAEJC,I,OAAAA,GAAf,EAAApD,EAAAS,UAAA,W,IAUc4C,EAEG3B,EACD4B,EAGAC,E,wEAfZlD,EAAWyB,gBAAgB,YAC3BD,YAAc,EACdtB,EAAKwB,UAAY,GAC8B,OAAzCC,aAAaC,QAAQ,kBAArB,C,MACAC,EAAAC,OAAOC,KAAK,sC,cAIZe,EAAed,KAAKC,MAAMN,aAAaC,QAAQ,mBAC3CoB,EAAA,GAEG3B,EAAI,E,wBAAGA,EAAIyB,EAAaX,QACzBc,EAAgBH,EAAazB,GAGV,C,EAAMlB,EAAc8C,KAJT,C,YAI9BC,EAAmBpC,EAAAC,OACvBiC,EAAiBZ,KAAKc,G,wBALe7B,I,aAWvCgB,EAAaW,G,wBAGnB/C,EAASqC,aAAa,YAAY,G,OACtC,KA3BeC,MAAAC,KAAAC,U,CAmCf,SAASJ,EAAac,GACpB,IAAMC,EAASD,EACZE,KAAI,SAAAC,GACH,MAAO,6GAMsB3C,OAH/B2C,EAAMC,YACP,8EAI6B5C,OAFG2C,EAAME,eAAe,8CAEf7C,OAAT2C,EAAMG,GAAG,4BAIrC,IACCC,KAAK,IAERxD,EAAKwB,WAAa0B,CACpB,CAvDAnC,QAAQiB,IAAIY,EAAaX,QA8BzBlC,EAASyC,iBAAiB,SAAS,SAAAC,GAC/BA,EAAMC,iB,WA9BKG,EAAAR,MAAAC,KAAAC,U,CA+BXkB,EACJ,G","sources":["src/js/getMoviesById.js"],"sourcesContent":["import axios from 'axios';\nimport { Notify } from 'notiflix';\n\nlet movieId = '';\nconst API_KEY = 'b942b8bf626a04f48b07153a95ee51a0';\nconst loader = document.querySelector('.loader');\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\nconst main = document.querySelector('.main');\n\n\n\n const getMoviesbyId = async (movieId) => {\n     loader.style.display = 'block';\n     try {\n    let API_URL = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n     const response = await axios.get(API_URL);\n     loader.style.display = 'none';\n    \n     return response.data;\n   } catch (error) {\n     loader.style.display = 'none';\n     console.error(error);\n   }\n};\n \n\n\n//watched\n\nlet watchedMovies = [];\n\nasync function getWatchedMovies() {\n    currentPage = 1;\n    queueBtn.removeAttribute('disabled');\n    main.innerHTML = '';\n\n   \n\n    if (localStorage.getItem('added-to-watched') === null) {\n        Notify.info('There are no movies in your watched list!');\n        \n    } else {\n        watchedMovies = JSON.parse(localStorage.getItem('added-to-watched'));\n        console.log(watchedMovies);\n        let watchedMoviesList = [];\n    \n\n        for (let i = 0; i < watchedMovies.length; i++) {\n            let watchedMovieId = watchedMovies[i];\n            \n    \n            let watchedMoviesItem = await getMoviesbyId(watchedMovieId);\n\n            watchedMoviesList.push(watchedMoviesItem);\n            \n            \n    \n        }\n        renderMovies(watchedMoviesList);\n        \n    }\n    watchedBtn.setAttribute('disabled', true);\n    \n\n}\n\n\n\nwatchedBtn.addEventListener('click', event => {\n    event.preventDefault();\n    getWatchedMovies();\n});\n\n\n//queue\n\nlet queuedMovies = [];\nconsole.log(queuedMovies.length);\nasync function getQueuedMovies() {\n    watchedBtn.removeAttribute('disabled');\n    currentPage = 1;\n    main.innerHTML = '';\n      if (localStorage.getItem('added-to-queue')===null) {\n          Notify.info('There are no movies in your queue!');\n        \n      } else {\n        \n          queuedMovies = JSON.parse(localStorage.getItem('added-to-queue'));\n          let queuedMoviesList = [];\n\n        for (let i = 0; i < queuedMovies.length; i++) {\n            let queuedMovieId = queuedMovies[i];\n            \n\n            let queuedMoviesItem = await getMoviesbyId(queuedMovieId);\n            queuedMoviesList.push(queuedMoviesItem);\n\n            \n\n            \n          }\n          renderMovies(queuedMoviesList);\n    }\n\n    queueBtn.setAttribute('disabled', true);\n}\n\nqueueBtn.addEventListener('click', event => {\n    event.preventDefault();\n    getQueuedMovies()\n});\n\n//render movies\nfunction renderMovies(movies) {\n  const markup = movies\n    .map(movie => {\n      return `\n<div class=\"movie-card\">\n  <img class=\"movie-card__image\" alt=\"\" src='https://image.tmdb.org/t/p/w500/${\n    movie.poster_path\n  }'}>\n  <div class=\"movie-card__label\">\n    <p class=\"movie-card__title\">${movie.original_title}</p>\n    \n    <p class=\"movie-card__id\">${movie.id}</p> \n  </div>\n</div>\n`;\n    })\n    .join('');\n\n  main.innerHTML += markup;\n}\n//<p class=\"movie-card__genre-year\">${singleMovieGenres} | ${getMovieYear(\n        //movie.release_date\n      //)}</p> "],"names":["$7pbsT","parcelRequire","$c581f0284ec1c973$var$loader","document","querySelector","$c581f0284ec1c973$var$watchedBtn","$c581f0284ec1c973$var$queueBtn","$c581f0284ec1c973$var$main","$c581f0284ec1c973$var$getMoviesbyId","default","movieId","API_URL","response","error","style","display","concat","$dIxxU","get","_state","sent","data","console","$c581f0284ec1c973$var$watchedMovies","$c581f0284ec1c973$var$_getWatchedMovies","watchedMoviesList","i","watchedMovieId","watchedMoviesItem","currentPage","removeAttribute","innerHTML","localStorage","getItem","$iU1Pc","Notify","info","JSON","parse","log","length","push","$c581f0284ec1c973$var$renderMovies","setAttribute","apply","this","arguments","addEventListener","event","preventDefault","$c581f0284ec1c973$var$getWatchedMovies","$c581f0284ec1c973$var$queuedMovies","$c581f0284ec1c973$var$_getQueuedMovies","queuedMoviesList","queuedMovieId","queuedMoviesItem","movies","markup","map","movie","poster_path","original_title","id","join","$c581f0284ec1c973$var$getQueuedMovies"],"version":3,"file":"library.0771a3cd.js.map"}